{% extends "references/refBase.html" %}
{% load static pyref_tags %}

{% block extra_css %}
<link rel="stylesheet" type="text/css" href="{% static 'refs/css/refs.css' %}" />
{% endblock %}

{% block extra_js %}
<script>
$(function() {
    $('.delete-ref').click(function() {
        return window.confirm("Are you sure you want to delete this reference?");
    });
});
</script>
{% endblock %}

{% block content %}

<h1>Reference List</h1>

{% for ref in page_obj %}
    <p>
    {% with test=user.groups.all|length %}
    {% if test > 0 %}
    <a class="delete-ref" href="{% url "front:delete" ref.pk %}"><img src="{% static 'refs/images/trashcan.svg' %}"/></a>
    <a href="{% url 'front:add-references' ref.pk %}"><img src="{% static 'refs/images/pencil.svg' %}"/></a>
    {% endif %}
    {% endwith %}
    {% ref_html ref 3 %}
   </p>
{% endfor %}

<div class="pagination">
    {% if page_obj.has_previous %}
    <a class="page-first" href="?page=1">&laquo First</a>
    <a class="page-prev" href="?page={{ page_obj.previous_page_number}}">Previous</a>
    {% endif %}

    <span class="pagination-text">Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}</span>

    {% if page_obj.has_next %}
    <a class="page-next" href="?page={{ page_obj.next_page_number }}">Next</a>
    <a class="page-last" href="?page={{ page_obj.paginator.num_pages }}">Last &raquo</a>
    {% endif %}    
</div>

{% endblock %} 
